# Intent 编写指南

Intent 是项目的方向文档，回答"为什么做"和"做什么"的问题。

## 核心原则

### 1. 唯一性

一个项目只有一个 intent.md。如果发现有多个平行方向，应该：
- 上提到共同父层级
- 或拆分成多个独立项目

**示例**：
```
❌ 错误：美甲 + 美睫（两个平行方向）
✅ 正确：美业（上提到父层级，美甲和美睫作为 spec）
```

### 2. 稳定性

Intent 应该很少变动。如果频繁修改 intent，说明：
- 方向没想清楚
- 或者应该拆分项目

### 3. 抽象层级

Intent 不描述具体功能，只描述：
- 为什么要做
- 为谁做
- 什么叫成功
- 什么不做

具体功能放到 business/ 各模块里。

### 4. Intent 的"三不"原则

- ❌ **不描述具体功能**：如"一键验证"是功能，应该说"快速验证"
- ❌ **不描述技术实现**：如"SQLite 存储"是实现，不应出现在 Intent
- ❌ **不描述操作流程**：如"先标记再验证"是流程，应该放到 business/ 各模块

**抽象层级对照表**：

| 具体表达（❌） | 抽象表达（✅） |
|--------------|--------------|
| Dify 只管工作流 | 现有工作流工具缺乏 Prompt 管理能力 |
| 3-5 人团队 | 小团队协作 |
| 版本 v1/v2/v3 | 版本管理 |
| 一键验证 | 快速验证 |
| SQLite 存储 | 持久化管理 |
| 不做登录功能 | 不做复杂权限管理（定位边界） |

---

## 四个核心要素

### Why - 核心动机

回答：为什么要做这个项目？

**好的写法**：
- 描述当前存在的问题或痛点
- 说明这个项目如何解决这些问题
- 阐述项目的独特价值

**示例**：
```markdown
## Why：核心动机

### 背景与冲突
Prompt 已经成为事实上的代码，但我们还在用编辑文案的方式维护它。
这导致了：
- 恐惧：没人敢轻易修改正在运行的 Prompt
- 盲目：修改效果依赖"体感"评估
- 浪费：线上 Bad Case 无法沉淀为测试资产

### 我们的使命
建立 Prompt 的质量闭环，让修改可测试、可验证。
```

### Who - 服务对象

回答：为谁而做？

**好的写法**：
- 不是职位，而是行为/角色
- 描述核心需求

**示例**：
```markdown
## Who：服务对象

### The Builder (构建者)
- 可能是提示词工程师、开发者或 PM
- 需求：安全的沙箱，能快速复现问题并验证修复效果

### The Reviewer (把关者)
- 可能是 QA、交付负责人或 Tech Lead
- 需求：客观的质量准入标准，不看"我觉得"，只看"通过率"
```

### Success - 成功标准

回答：什么叫做成了？

**好的写法**：
- 描述终局画面
- 可衡量或可感知
- 不是功能列表

**示例**：
```markdown
## Success：终局画面

当项目成功时，我们将看到：
- 极速闭环：线上异常数据能被无缝捕获，转化为测试用例
- 信心交付：发布的自信源于绿色测试报告，而非运气
- 资产积累：最有价值的是测试用例库，而非 Prompt 本身
```

### Non-Goals - 边界

回答：明确不做什么？

**好的写法**：
- 列出容易误解会做的事
- 说明为什么不做

**示例**：
```markdown
## Non-Goals：边界

- ❌ 不做工作流编排：执行逻辑由 Dify 等引擎负责
- ❌ 不做通用 MLOps：不涉及模型训练、微调
- ❌ 不做项目管理：不处理任务指派或工时统计
```

---

## 常见问题

### Q: Intent 写多长合适？

A: 通常 1-2 页（300-600 字）。太短说不清楚，太长说明混入了功能细节。

### Q: Intent 需要经常更新吗？

A: 不需要。如果频繁更新，说明方向没想清楚。正常情况下，一个项目的 intent 在整个生命周期内可能只改 1-2 次。

### Q: Intent 和 README 有什么区别？

A:
- Intent 是给自己和 AI 看的，定义"为什么做"
- README 是给外部用户看的，说明"怎么用"

### Q: 如何判断 Intent 是否完整？

A: 检查四个要素是否都有实质内容：
- [ ] Why 是否说清楚了动机和问题？
- [ ] Who 是否明确了服务对象？
- [ ] Success 是否有可感知的终局画面？
- [ ] Non-Goals 是否划清了边界？

---

## 模板参考

参见 `@templates/intent.md`
